<ngx-spinner
bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "timer" [fullScreen] = "true"
>
<p style="color: white" > Carregando... </p>
</ngx-spinner>
<div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="h3 mb-0 text-gray-800">
        <i class="fa fa-graduation-cap"></i> Cadastro Escola
    </h1>
</div>
<div class="row justify-content-center">
    <div class="col">
      <div class="card o-hidden border-0 shadow-lg my-2">
        <div class="card-body p-5">
            <div class="row">
                <div class="col-6">
                    <div class="form-group">
                        <input type="text" class="form-control "  [(ngModel)]="escolaModel.nome" placeholder="Nome">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <div class="form-group">
                        <select  class="form-control " [(ngModel)]="modalidade" name="modalidades" multiple>
                            <option value='' disabled>Modalidade de Ensino</option>
                            <option *ngFor="let modalidade of modalidades" [value]="modalidade.id">{{modalidade.descricao}}</option>
                        </select>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <select  class="form-control " name="tipoLocalizacao" [(ngModel)]="escolaModel.tipoLocalizacao">
                            <option value=''>Tipo Localização</option>
                            <option *ngFor="let t of tipoLocalizacoes" [value]="t.id">{{t.descricao}}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <div class="form-group">
                        <input type="checkbox" id="convenio" name="convenio" [(ngModel)]="escolaModel.convenioPoderPublico">
                        <label for="convenio">&nbsp;Convênio Poder Público?</label>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <input type="checkbox" id="especial" name="especial" [(ngModel)]="escolaModel.atendeEducacaoEspecial" >
                        <label for="especial">&nbsp;Atende Educação Especial?</label>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <div class="form-group">
                        <select  class="form-control " name="categoriaAdministrativa" [(ngModel)]="escolaModel.categoriaAdministrativa" >
                            <option value=''>Categoria Administrativa</option>
                            <option *ngFor="let t of categorias" [value]="t.id">{{t.descricao}}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-1">
                    <div class="form-group">
                        <select  class="form-control" name="uf" [(ngModel)]="escolaModel.endereco.idUf" >
                            <option value='0'>Uf</option>
                            <option *ngFor="let t of ufs" [value]="t.id">{{t.descricao}}</option>
                        </select>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <select  class="form-control " name="cidade" [(ngModel)]="escolaModel.endereco.idCidade">
                            <option value='0'>Cidade</option>
                            <option *ngFor="let t of cidades" [value]="t.id">{{t.descricao}}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <div class="form-group">
                        <select  class="form-control " name="bairro" [(ngModel)]="escolaModel.endereco.idBairro" >
                            <option value='0'>Bairro</option>
                            <option *ngFor="let t of bairros" [value]="t.id">{{t.descricao}}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <div class="form-group"  >
                        <input type="text" class="form-control "  name="endereco" [(ngModel)]="escolaModel.endereco.descricao" placeholder="Endereço">
                    </div>
                </div>
                <div class="col-2">
                    <div class="form-group" >
                        <input type="text" class="form-control " name="ende-numero"  [(ngModel)]="escolaModel.endereco.numero"  placeholder="Número">
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-1">
                    <div class="form-group">
                        <input type="text" class="form-control" [(ngModel)]="ddd" name="ddd" maxlength="3"  placeholder="DDD">
                    </div>
                </div>
                <div class="col-2">
                    <div class="form-group">
                        <input type="text" class="form-control " [(ngModel)]="numero" name="numero" maxlength="9" placeholder="Número">
                    </div>
                </div>
                <div class="col-2">
                    <div class="form-group">
                        <button class="ml-2 btn btn-primary btn-icon-split" [disabled]="!ddd || !numero" (click)="addTel()">
                            <span class="text"> + Adicionar</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <div class="form-group">
                        <table class="table">
                            <thead>
                              <tr>
                                <th scope="col">#</th>
                                <th scope="col">DDD</th>
                                <th scope="col">Número</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let item of this.escolaModel.telefones">
                                <th scope="row">1</th>
                                <td>{{item.ddd}}</td>
                                <td>{{item.numero}}</td>
                              </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    <div class="form-group">
                        <button class="ml-2 btn btn-primary btn-icon-split" [disabled]="false" (click)="registrar()">
                            <span class="text"> Registrar</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
      </div>
    </div>
</div>